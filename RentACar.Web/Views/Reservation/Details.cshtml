@using RentACar.Web.ViewModels.InsuranceBenefit
@model RentACar.Web.ViewModels.Reservation.ReservationDetailsViewModel;
<div class="form-wrapper">
    <div class="container mt-5">
        <h2 class="text-center">Резюме на вашата резервация</h2>
        <hr />
        
        <div class="text-center mb-4">
            <img src="@Url.Content(Model.CarImageUrl)" alt="Снимка на автомобила" class="img-fluid rounded shadow" style="max-width: 100%; height: auto; max-height: 300px;" />
        </div>

        <div class="reservation-summary">
            <div class="mb-3">
                <h4>Избран автомобил:</h4>
                <p class="mb-0"><strong>Марка:</strong> @Model.CarBrand</p>
                <p><strong>Модел:</strong> @Model.CarModel</p>
            </div>

            <div class="mb-3">
                <h4>Дати на резервация:</h4>
                <p class="mb-0"><strong>Начална дата:</strong> @Model.StartDate</p>
                <p><strong>Крайна дата:</strong> @Model.EndDate</p>
            </div>

            <div class="mb-3">
                <h4>Адрес за доставка:</h4>
                <p>@Model.Address</p>
            </div>

            <div class="mb-3">
                <h4>Телефонен номер:</h4>
                <p>@Model.PhoneNumber</p>
            </div>

            <div class="mb-3">
                <h4>Избрани застраховки:</h4>
                @if (Model.InsuranceBenefits.Any())
                {
                    <ul>
                        @foreach (ReservationDetailsInsuranceBenefitViewModel benefit in Model.InsuranceBenefits)
                        {
                            <li><i class="@benefit.IconClass"></i> @benefit.Name</li>
                        }
                    </ul>
                }
                else
                {
                    <p>Няма избрани застраховки.</p>
                }
            </div>

            <div class="mb-4">
                <h4>Крайна цена:</h4>
                <p class="text-success display-6 fw-bold text-decoration-underline"><strong>@Model.TotalPrice.ToString("0.00") лв.</strong></p>
            </div>
            
            <div class="d-flex justify-content-between">
                <a href="@Url.Action("MyReservations", "Reservation")" class="btn btn-secondary">Назад</a>
            </div>
        </div>
    </div>
</div>